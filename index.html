<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<title></title>
	<script src="js/vue.js"></script>
	<script src="js/mui.min.js"></script>
	<link href="css/mui.min.css" rel="stylesheet" />
	<link href="css/index.css" />
	<style>
		.mui-control-item.mui-active {
			border-bottom: 3px solid #007aff;
			color: #007aff !important;
			background-color: #fff !important;
			font-size: 18px;
			border-left: 0px !important;
		}

		.mui-btn.mui-btn-primary {
			margin-top: 20px;
			width: 80%;
			margin-left: 10%;
		}

		.box {
			margin-top: 0px;
			width: 100%;
		}
	</style>
	<script type="text/javascript" charset="utf-8">
		mui.init();
	</script>
</head>

<body style="background-color: #FFFFFF;">
	<div class="box">
		<div style="margin-left:35% ;margin-top: 20%; width: 30%;">
			<img src="img/logo.png" alt="logo" width="100%">
		</div>
	</div>
	<div id="segmentedControl" class="mui-segmented-control"
		style="margin-top: 20%;width: 80%;border: #FFFFFF;  margin-left: 10%;">
		<a class="mui-control-item mui-active" href="#item1mobile">
			验证码登录
		</a>
		<a class="mui-control-item" href="#item2mobile" style="border-left: 0 !important;">
			密码登录
		</a>
	</div>
	<div class="mui-content-padded" style="width: 80%;margin-left:10% ;margin-top: 10%; ">
		<div id="item1mobile" class="mui-control-content mui-active">
			<form class="mui-input">
				<div class="mui-input">
					<span class="mui-icon mui-icon-phone"></span>
					<label>手机号:</label>
					<input v-model="ph1" style="width: 60%;border-bottom: 1px solid rgba(0,0,0,.2) !important;border: 0px;"
						type="text" class="mui-input-clear" maxlength="11" placeholder="请输入手机号">
				</div>
				<div class="mui-input">
					<span class="mui-icon mui-icon-email"></span>
					<label>验证码:</label>
					<input style="width:45%;border-bottom: 1px solid rgba(0,0,0,.2) !important;
    border: 0px;" type="text" class="mui-input-clear" type="text" class="mui-input-numbox" placeholder="请输入验证码">
					<button style="line-height:24px; width: 23%;" type="button">获取</button>
				</div>
				<span style="font-size: 12px;">没有账号？请先<a href="">注册</a>哦</span>
				<div class="mui-button" style="border: 0px!important;">
					<button @click="load" type="button" class="mui-btn mui-btn-primary">登录</button>
				</div>
			</form>
		</div>
		<div id="item2mobile" class="mui-control-content">
			<form class="mui-input">
				<div class="mui-input">
					<span class="mui-icon mui-icon-phone"></span>
					<label>手机号:</label>
					<input style="width:70%;  border-bottom: 1px solid rgba(0,0,0,.2) !important;
				border: 0px;" type="text" class="mui-input-clear" placeholder="请输入手机号">
				</div>
				<div class="mui-input">
					<span class="mui-icon mui-icon-phone"></span>
					<label>密码:</label>
					<input style="width:65%;border-bottom: 1px solid rgba(0,0,0,.2) !important;
				border: 0px;" type="text" class="mui-input-clear" type="text" class="mui-input-numbox" placeholder="请输入密码">
				</div>

				<div class="mui-button" style="border: 0px!important;">
					<button type="button" class="mui-btn mui-btn-primary">登录</button>
				</div>
			</form>
		</div>

	</div>
	<script>
		var appp1 = new Vue({
			el: '#item1mobile',
			data: {
				ph1: ""
			},
			methods: {
				load: function () {
					if (this.ph1 == null || this.ph1 == "") {
						alert("请输入手机号");
					} else if (!(/^1[3456789]\d{9}$/.test(this.ph1))) {
						alert("手机号码有误，请重填");
					}
					else {
						alert(this.ph1);
						mui.ajax('http://localhost:8080/groupChat/phYZMServlet', {
							// data: {
							// 	username: 'username',
							// 	password: 'password'
							// },
							dataType: 'json',//服务器返回json格式数据
							type: 'get',//HTTP请求类型
							timeout: 10000,//超时时间设置为10秒；
							headers: { 'Content-Type': 'application/json' },
							success: function (data) {
								//服务器返回响应，根据响应结果，分析是否登录成功；
								alert(data);
								localStorage.setItem('yzm', data.msg);
								location.href = "test.html";
							},
							error: function (xhr, type, errorThrown) {
								//异常处理；
								console.log(type);
							}
						});
					}
				},
			}
		});
	</script>

</body>

</html>